<html><head></head><body><div hidden="" by-polymer-bundler=""><dom-module id="register-home"><template><style include="shared-styles"></style><div><div id="container"><img class="header_img" src="../../../images/edm01.jpg"> <img class="header_img" src="../../../images/edm02.jpg"> <a href="./register-mine"><div id="button3">立即登記</div></a><img class="header_img" src="../../../images/edm03.jpg"></div></div></template><script>var RegisterHome=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'ready',value:function(){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'ready',this).call(this)}}],[{key:'is',get:function(){return'register-home'}},{key:'properties',get:function(){return{}}},{key:'observers',get:function(){return[]}}]),b}(Polymer.Element);window.customElements.define(RegisterHome.is,RegisterHome);</script></dom-module><dom-module id="register-mine"><template><style include="shared-styles">:host{box-sizing:border-box;font-size:24px;}#button{position:static;}.licence,.type,.email,.mobile,.factory,.name,.sex{min-width:320px;}.forbid{position:relative;}.section{margin:10px 0;align-items:center;display:flex;flex-direction:column;}.section_content{display:flex;justify-content:space-around;align-items:center;width:100%;}</style><div style="box-sizing: border-box;"><div id="container"><img class="header_img" src="../../../images/banner.jpg"><div id="step"><div class="ball_active">1</div><div class="ball">2</div><div class="ball">3</div></div><h4>基本資料</h4><div class="section"><div class="section_content">姓名<span>*</span>:<vaadin-text-field class="name" on-blur="isName" value="{{name}}"></vaadin-text-field></div><span class="forbid" hidden="{{nameForbid}}">{{naForbidText}}</span></div><div class="section"><div class="section_content">称呼<span></span>:<vaadin-combo-box class="sex" placeholder="Please select" items="[[sexList]]" selected-item="{{sex}}"></vaadin-combo-box></div><span class="forbid" hidden="{{sexForbid}}">{{sexForbidText}}</span></div><div class="section"><div class="section_content">手提<span>*</span>:<vaadin-text-field class="mobile" on-blur="isMobile" value="{{mobile}}"></vaadin-text-field></div><span class="forbid" hidden="{{mobileForbid}}">{{moForbidText}}</span></div><div class="section"><div class="section_content">邮箱<span></span>:<vaadin-text-field class="email" value="{{email}}"></vaadin-text-field></div><span class="forbid" hidden="{{emForbid}}">{{emForbidText}}</span></div><h4>車輛信息</h4><div class="section"><div class="section_content">車廠<span>*</span>:<vaadin-combo-box class="factory" placeholder="Please select" items="[[carFactoryList]]" item-label-path="vehicleName" item-value-path="vehicleId" selected-item="{{carFactory}}"></vaadin-combo-box></div></div><div class="section"><div class="section_content">型號<span>*</span>:<vaadin-text-field class="type" value="{{vehicleSeriesName}}" on-blur="isSeries"></vaadin-text-field></div><span class="forbid" hidden="{{serForbid}}">{{serForbidText}}</span></div><div class="section"><div class="section_content">車牌<span>*</span>:<vaadin-text-field class="licence" value="{{vehicleLicenseNo}}" on-blur="isLicense"></vaadin-text-field></div><span class="forbid" hidden="{{liForbid}}">{{liForbidText}}</span></div><h4>預約時間</h4><div class="box"><label><input class="input3" type="radio" name="date"> 2018-05-05</label><label><input class="input3" type="radio" name="date"> 2018-05-12</label><br><br><label><input class="input3" type="radio" name="date"> 2018-05-19</label><label><input class="input3" type="radio" name="date"> 2018-05-26</label></div><a><div id="button" on-click="goNext">下一步</div></a></div></div><iron-ajax auto="" id="getFactoryList" method="GET" url="{{setUrl('public/seller/vehicle')}}" content-type="application/json" on-response="_responFactory"></iron-ajax><iron-ajax auto="" id="getFactoryList" method="GET" url="{{setUrl('public/seller/vehicle')}}" content-type="application/json" on-response="_responFactory"></iron-ajax></template><script>var RegisterMine=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'ready',value:function(){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'ready',this).call(this)}},{key:'_responFactory',value:function(a){this.carFactoryList=a.detail.response}},{key:'isName',value:function(a){var b=a.target.value;return b?this.nameForbid=!0:(this.naForbidText='\u59D3\u540D\u4E0D\u80FD\u4E3A\u7A7A',this.nameForbid=!1)}},{key:'isMobile',value:function(a){var b=a.target.value;return b?this.isPoneAvailable(b)?this.mobileForbid=!0:(this.moForbidText='\u624B\u63D0\u53F7\u683C\u5F0F\u9519\u8BEF\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165',this.mobileForbid=!1):(this.moForbidText='\u624B\u63D0\u53F7\u4E0D\u80FD\u4E3A\u7A7A',this.mobileForbid=!1)}},{key:'isEmail',value:function(a){var b=a.target.value;return b?this.checkEmail(b)?this.emForbid=!0:(this.emForbidText='\u90AE\u7BB1\u683C\u5F0F\u9519\u8BEF\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165',this.emForbid=!1):(this.emForbidText='\u90AE\u7BB1\u4E0D\u80FD\u4E3A\u7A7A',this.emForbid=!1)}},{key:'isSeries',value:function(a){var b=a.target.value;return b?this.serForbid=!0:(this.serForbidText='\u578B\u53F7\u4E0D\u80FD\u4E3A\u7A7A',this.serForbid=!1)}},{key:'isLicense',value:function(a){var b=a.target.value;return b?this.liForbid=!0:(this.liForbidText='\u8F66\u724C\u4E0D\u80FD\u4E3A\u7A7A',this.liForbid=!1)}},{key:'goNext',value:function(){var a=this;if(!this.name)return this.nameForbid=!1;if(!this.mobile)return this.mobileForbid=!1;if(!this.sex)return console.log('\u79F0\u547C\u4E0D\u80FD\u4E3A\u7A7A');if(!this.vehicleSeriesName)return this.serForbid=!1;if(!this.vehicleLicenseNo)return this.liForbid=!1;if(!this.carFactory)return console.log('\u8F66\u5382\u4E0D\u80FD\u4E3A\u7A7A');var b={},c=this.name,d=this.sex.value,e=this.mobile,f=this.email,g=this.carFactory.vehicleId,h=this.vehicleSeriesName,i=this.vehicleLicenseNo;b={name:c,salutation:d,mobile:e,email:f,vehicleBrandId:g,vehicleSeriesName:h,vehicleLicenseNo:i},new Promise(function(a,c){sessionStorage.register=JSON.stringify(b);var d=JSON.parse(sessionStorage.register);d?a(d):c(err)}).then(function(){a.dispatchEvent(new CustomEvent('pathchange',{detail:{path:'/register/register-mobile'},bubbles:!0,composed:!0}))}).catch(function(){console.error(error)})}}],[{key:'is',get:function(){return'register-mine'}},{key:'properties',get:function(){return{carFactoryList:{type:Array},carFactory:{type:Object},sexList:{type:Array,value:[{label:'\u5148\u751F',value:'m'},{label:'\u5973\u58EB',value:'f'}]},sex:{type:Object},sexForbid:{type:Boolean,value:!0},sexForbidText:{type:String,value:'\u79F0\u547C\u4E0D\u80FD\u4E3A\u7A7A'},subRoute:{type:String},name:{type:String},nameForbid:{type:Boolean,value:!0},naForbidText:{type:String,value:'\u59D3\u540D\u4E0D\u80FD\u4E3A\u7A7A'},mobile:{type:String},mobileForbid:{type:Boolean,value:!0},moForbidText:{type:String,value:'\u624B\u63D0\u53F7\u4E0D\u80FD\u4E3A\u7A7A'},email:{type:String},emForbid:{type:Boolean,value:!0},emForbidText:{type:String,value:'\u90AE\u7BB1\u4E0D\u80FD\u4E3A\u7A7A'},vehicleSeriesName:{type:String},serForbid:{type:Boolean,value:!0},serForbidText:{type:String,value:'\u578B\u53F7\u4E0D\u80FD\u4E3A\u7A7A'},vehicleLicenseNo:{type:String},liForbid:{type:Boolean,value:!0},liForbidText:{type:String,value:'\u8F66\u724C\u4E0D\u80FD\u4E3A\u7A7A'}}}},{key:'observers',get:function(){return[]}}]),b}(AuctionMixin(Polymer.Element));window.customElements.define(RegisterMine.is,RegisterMine);</script></dom-module><dom-module id="register-mobile"><template><style include="shared-styles">#button2{font-size:20px;height:100%;display:flex;justify-content:center;align-items:center;margin:auto;}.section{align-items:center;font-size:20px;}.input2{height:30px;width:auto;min-width:30%;}</style><div><div id="container"><img class="header_img" src="../../../images/banner.jpg"><div id="step"><div class="ball">1</div><div class="ball_active">2</div><div class="ball">3</div></div><h4>是否發送驗證碼到您手提{{register.mobile}}？請注意號碼填寫無誤，否則無法接收短訊！</h4><div class="section">驗證碼<span></span>:<vaadin-text-field class="input2" value="{{smsAccessCode}}"></vaadin-text-field><div class="input2"><div id="button2" on-click="getSmsCode" disabled="{{smsButtonDisabled}}">{{getSMScodeLabel}}</div></div></div><a><div id="button" on-click="goNext">下一步</div></a></div></div><iron-ajax id="getSmsCode" method="POST" headers="{{header}}" body="{}" url="{{setUrl('public/seller/requestSMS')}}" content-type="application/json"></iron-ajax></template><script>var RegisterMobile=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'_checkPage',value:function(a){'register-mobile'===a&&(this.register=JSON.parse(sessionStorage.register))}},{key:'getSmsCode',value:function(){var a=this,b=this.register.mobile,c=60;b&&!this.smsButtonDisabled&&(this.$.getSmsCode.body={mobile:b},this.$.getSmsCode.generateRequest().completes.then(function(){var b=setInterval(function(){0<c?(--c,a.getSMScodeLabel=c+'s\u540E\u91CD\u65B0\u83B7\u53D6'):(window.clearInterval(b),a.getSMScodeLabel='\u91CD\u65B0\u83B7\u53D6',a.smsButtonDisabled=!1)},1e3)}),this.smsButtonDisabled=!0)}},{key:'goNext',value:function(){var a=this;return this.smsAccessCode?void(this.register.smsAccessCode=this.smsAccessCode,new Promise(function(b,c){sessionStorage.register=JSON.stringify(a.register);var d=JSON.parse(sessionStorage.register);d?b(d):c(err)}).then(function(){a.dispatchEvent(new CustomEvent('pathchange',{detail:{path:'/register/register-pay'},bubbles:!0,composed:!0}))}).catch(function(){console.error(error)})):console.log('\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u7A7A')}},{key:'ready',value:function(){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'ready',this).call(this)}}],[{key:'is',get:function(){return'register-mobile'}},{key:'properties',get:function(){return{register:{type:Object},subRoute:{type:String,observer:'_checkPage'},smsAccessCode:{type:String},getSMScodeLabel:{type:String,value:'\u53D1\u9001'},smsButtonDisabled:{type:Boolean,value:!1}}}},{key:'observers',get:function(){return[]}}]),b}(AuctionMixin(Polymer.Element));window.customElements.define(RegisterMobile.is,RegisterMobile);</script></dom-module><dom-module id="register-pay"><template><style include="shared-styles"></style><div><div id="container"><img class="header_img" src="../../../images/banner.jpg"><div id="step"><div class="ball">1</div><div class="ball">2</div><div class="ball_active">3</div></div><h4>請選擇支付方式</h4><div class="list"><div class="list_left"><label><input class="input4" type="radio" name="payment" value="A"><div class="walkin">到現場支付</div></label></div><div class="list_right">正價<div class="price2">$600</div></div></div><div class="list"><div class="list_left"><label><input class="input4" type="radio" name="payment" value="B"> <img src="../../../images/alipay.png"></label></div><div class="list_right">優惠價<div class="price">$400</div></div></div><div class="list"><div class="list_left"><label><input class="input4" type="radio" name="payment" value="C"> <img src="../../../images/paypal.png"></label></div><div class="list_right">優惠價<div class="price">$480</div></div></div><a><div id="button" on-click="goNext">下一步</div></a></div></div></template><script>var RegisterPay=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'_checkPage',value:function(a){'register-pay'===a&&(this.register=JSON.parse(sessionStorage.register))}},{key:'ready',value:function(){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'ready',this).call(this)}},{key:'goNext',value:function(){var a,b=this,c=this.shadowRoot.querySelectorAll('.input4'),d=!0,e=!1;try{for(var f,g,h=c[Symbol.iterator]();!(d=(f=h.next()).done);d=!0)g=f.value,g.checked&&(this.paymentType=g.value)}catch(b){e=!0,a=b}finally{try{!d&&h.return&&h.return()}finally{if(e)throw a}}this.paymentType&&(this.register.paymentType=this.paymentType,new Promise(function(a,c){sessionStorage.register=JSON.stringify(b.register);var d=JSON.parse(sessionStorage.register);d?a(d):c(err)}).then(function(){b.dispatchEvent(new CustomEvent('pathchange',{detail:{path:'/register/register-success'},bubbles:!0,composed:!0}))}).catch(function(){console.error(error)}))}}],[{key:'is',get:function(){return'register-pay'}},{key:'properties',get:function(){return{register:{type:Object},subRoute:{type:String,observer:'_checkPage'},paymentType:{type:String}}}},{key:'observers',get:function(){return[]}}]),b}(Polymer.Element);window.customElements.define(RegisterPay.is,RegisterPay);</script></dom-module><dom-module id="register-success"><template><style include="shared-styles"></style><div><div id="container"><img class="header_img" src="../../../images/done.png"><h3>恭喜您，登記成功！</h3><p class="info">我們會有工作人員與您聯絡</p><p class="info">請保持手提暢通！</p><div class="box"><div class="list"><div class="list_left">姓名：</div><div class="list_right">陳大文</div></div><div class="list"><div class="list_left">手提：</div><div class="list_right">57776567</div></div><div class="list"><div class="list_left">預約時間：</div><div class="list_right">2018-05-21</div></div><div class="list"><div class="list_left">登記車廠：</div><div class="list_right">奧迪 AUDI</div></div><div class="list"><div class="list_left">登記型號：</div><div class="list_right">TT 1.8T</div></div><div class="list"><div class="list_left">預付：</div><div class="list_right">支付寶（$400）</div></div><img class="qrcode" src="../../../images/qr.png"><p class="reminder">請注意截圖保存好此資料卡!</p></div></div></div></template><script>var RegisterSuccess=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'ready',value:function(){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'ready',this).call(this)}}],[{key:'is',get:function(){return'register-success'}},{key:'properties',get:function(){return{}}},{key:'observers',get:function(){return[]}}]),b}(Polymer.Element);window.customElements.define(RegisterSuccess.is,RegisterSuccess);</script></dom-module><dom-module id="register-upload-picture"><template><style include="shared-styles">.logo{width:100%;}.title .title-text{text-align:center;font-size:22px;font-weight:bold;}.picture-list{display:flex;justify-content:center;align-items:center;margin-top:130px;height:125px;}.picture-list div.one,.two,.three,.four,.five{border:1px solid #2a1f1f;display:flex;justify-content:center;align-items:center;font-size:16px;font-weight:bold;color:#FF9966;}.picture-list .img-one{width:45%;height:100%;margin-right:5px;}.picture-list .img-one .one{height:100%;background-image:url('../../../images/u267.jpg');background-size:100% 100%;background-repeat:no-repeat;}.picture-list .img-two{height:100%;width:22%;display:flex;flex-direction:column;justify-content:space-between;margin-right:5px;}.picture-list .img-two .two{height:45%;background-image:url('../../../images/u276.jpg');background-size:100% 100%;background-repeat:no-repeat;}.picture-list .img-two .three{height:45%;background-image:url('../../../images/u285.jpg');background-size:100% 100%;background-repeat:no-repeat;}.picture-list .img-three{height:100%;width:22%;display:flex;flex-direction:column;justify-content:space-between;margin-right:5px;}.picture-list .img-three .four{height:45%;background-image:url('../../../images/u294.png');background-size:100% 100%;background-repeat:no-repeat;}.picture-list .img-three .five{height:45%;background-image:url('../../../images/u303.png');background-size:100% 100%;background-repeat:no-repeat;}.last{display:flex;flex-direction:row;justify-content:center;align-items:center;width:100%;margin-top:100px;}.last .last-phone{border:1px solid rgba(255, 153, 102, 1);background-color:#f7a700;width:90%;height:50px;color:#FFFFFF;display:flex;justify-content:center;align-items:center;font-size:20px;border-radius:25px;}.imgWidth{width:100%;}</style><div><div class="swipe-list"><div class="swipe"><img src="../../../images/banner.jpg" alt="" class="logo"></div></div><div class="title"><p class="title-text">車辆圖片上載</p></div><div class="picture-list"><div class="img-one"><input hidden="true" multiple="multiple" enctype="multipart" type="file" id="upload" accept="image" on-change="uploadPic"><template is="dom-if" if="{{isImage}}"><div class="one" on-click="setUploadPic">按此上載主圖</div></template><img src$="{{imgUrl}}" alt="" hidden="{{isImage}}" class="one imgWidth"></div><div class="img-two"><div id="twoText" class="two" on-click="setUploadPic">按此圖二</div><img id="twoPic" src$="{{imgUrl2}}" alt="" style="display: none;" class="two imgWidth"><div id="threeText" class="three" on-click="setUploadPic">按此圖三</div><img id="threePic" src$="{{imgUrl3}}" alt="" style="display: none;" class="three imgWidth"></div><div class="img-three"><div id="fourText" class="four" on-click="setUploadPic">按此圖四</div><img id="fourPic" src$="{{imgUrl4}}" alt="" style="display: none;" class="four imgWidth"><div id="fiveText" class="five" on-click="setUploadPic">按此圖五</div><img id="fivePic" src$="{{imgUrl5}}" alt="" style="display: none;" class="five imgWidth"></div></div><div class="last"><div class="last-phone">確認上载</div></div></div></template><script>var RegisterUploadPicture=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'setUploadPic',value:function(a){this.imgIndex=a.target.className,this.$.upload.click()}},{key:'uploadPic',value:function(a){var b=this,c=a.target.files[0]||a.dataTransfer.files[0];if(/^image/.test(c.type)){var d=new FileReader;d.readAsDataURL(c);var e=this;console,d.onloadend=function(){var a=this.result;'one'===e.imgIndex?(e.imgUrl=a,e.isImage=!1):'two'===e.imgIndex?(e.imgUrl2=a,e.$.twoText.style.display='none',e.$.twoPic.style.display='block'):'three'===e.imgIndex?(e.imgUrl3=a,e.$.threeText.style.display='none',e.$.threePic.style.display='block'):'four'===e.imgIndex?(e.imgUrl4=a,e.$.fourText.style.display='none',e.$.fourPic.style.display='block'):'five'===e.imgIndex&&(e.imgUrl5=a,e.$.fiveText.style.display='none',e.$.fivePic.style.display='block')}}}}],[{key:'is',get:function(){return'register-upload-picture'}},{key:'properties',get:function(){return{isImage:{type:Boolean,value:!0},imgUrl:{type:String},imgIndex:{type:String}}}},{key:'observers',get:function(){return[]}}]),b}(Polymer.Element);window.customElements.define(RegisterUploadPicture.is,RegisterUploadPicture);</script></dom-module></div><dom-module id="register-page"><template><style include="shared-styles"></style><iron-pages selected="{{subPage}}" attr-for-selected="page"><register-home page="register-home"></register-home><register-mine page="register-mine" sub-route$="[[subRoute]]"></register-mine><register-mobile page="register-mobile" sub-route$="[[subRoute]]"></register-mobile><register-pay page="register-pay" sub-route$="[[subRoute]]"></register-pay><register-success page="register-success"></register-success><register-upload-picture page="register-upload-picture"></register-upload-picture></iron-pages></template><script>var RegisterPage=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'_checkPage',value:function(a,b){'register'==b&&(this.subPage=a?a:'register-home')}}],[{key:'is',get:function(){return'register-page'}},{key:'properties',get:function(){return{view:{type:String},subRoute:{type:String}}}},{key:'observers',get:function(){return['_checkPage(subRoute,view)']}}]),b}(Polymer.Element);window.customElements.define(RegisterPage.is,RegisterPage);</script></dom-module></body></html>